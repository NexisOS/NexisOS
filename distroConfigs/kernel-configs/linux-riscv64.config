# Minimal kernel config for NexisOS installer (riscv64, UEFI only)

CONFIG_64BIT=y
CONFIG_RISCV=y

# General kernel options
CONFIG_INIT_ENV_ARG_LIMIT=32
CONFIG_KERNEL_XZ=y
CONFIG_CC_OPTIMIZE_FOR_SIZE=y
CONFIG_SYSVIPC=y
CONFIG_SYSCTL=y

# EFI boot support
CONFIG_EFI=y
CONFIG_EFI_STUB=y
CONFIG_EFI_VARS=y

# Filesystems
CONFIG_EXT4_FS=y
CONFIG_XFS_FS=y
CONFIG_VFAT_FS=y

# Networking essentials
CONFIG_NET=y
CONFIG_INET=y
CONFIG_PACKET=y
CONFIG_UNIX=y
CONFIG_NETDEVICES=y
CONFIG_DUMMY=y

# Virtio support for QEMU compatibility
CONFIG_VIRTIO=y
CONFIG_VIRTIO_PCI=y
CONFIG_VIRTIO_NET=y
CONFIG_VIRTIO_BLK=y
CONFIG_VIRTIO_BALLOON=y
CONFIG_VIRTIO_CONSOLE=y
CONFIG_VIRTIO_RNG=y

# Block devices and storage
CONFIG_BLK_DEV_SD=y
CONFIG_BLK_DEV_SR=y
CONFIG_PARTITION_ADVANCED=y
CONFIG_PARTITION_MS_DOS=y

# Console and devices
CONFIG_VT=y
CONFIG_SERIAL_8250=y
CONFIG_SERIAL_8250_CONSOLE=y

# Disable debug info
CONFIG_DEBUG_INFO=n

# Disable unused features
CONFIG_SOUND=n
CONFIG_BLUETOOTH=n
CONFIG_WLAN=n
CONFIG_CRYPTO=y
CONFIG_CRYPTO_AES=y

CONFIG_MODULES=n

CONFIG_DEVTMPFS=y
CONFIG_DEVTMPFS_MOUNT=y

CONFIG_ACPI=n

# Kernel compression
CONFIG_KERNEL_XZ=y
CONFIG_KERNEL_GZIP=n
